{% extends 'base.html' %}
{% load static %}

{% load auth_extras %}
{% load crispy_forms_tags %}


{% block page_content %}

{% block title %}

<h1 class="h3 mb-0 text-gray-800"> Καταχώρηση Νέας Αναφοράς </h1>

{% endblock %}

{% block content %}
<!-- Content Row -->
<div class="row">

    <!-- New Breakdow Form -->
    <div class="col-12">
        <div class="card shadow mb-4">
            <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                <h6 class="m-0 font-weight-bold text-primary"> Στοιχεία νέας αναφοράς </h6>
            </div>
            <div class="card-body border-left-primary">
                <form id="new_report_form" method="POST" action="{% url 'reports_all' %}" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="form-group row">
                        <div class="col-12 uppercase-input">
                            <label class="field-label{% if form.description.field.required %} field-required{% endif %}"
                                for="{{ form.description.name }}">{{ form.description.label }}:
                            </label>
                            {% if form.description.errors %}<span
                                class="field-error">{{ form.description.errors }}</span>
                            {% endif %}
                                <textarea name="description" cols="40" rows="4" style="resize: none;"
                                    class="form-control form-control-section" placeholder="---" id="id_description"></textarea>
                            {% if form.description.help_text %}
                                <span class="field-helptext">{{ form.description.help_text|safe }}</span>
                            {% endif %}
                        </div>


                    </div>

                    <div class="form-group row">

                        {% comment %} Select means {% endcomment %}
                        <div class="col-3">
                            <label class="field-label{% if form.means.field.required %} field-required{% endif %}"
                                for="{{ form.means.name }}">{{ form.means.label }}:</label>
                            {% if form.means.errors %}
                            <span class="field-error">{{ form.means.errors }}</span>
                            {% endif %}
                            <select name="means" id="id_means_new_report" class="selectpicker" data-live-search="true"
                                data-width="100%" data-actions-box="true" data-actions-box="true">
                                {% for choice in form.means %}
                                {{ choice }}
                                {% endfor %}
                            </select>
                            {% if form.means.errors %}
                            <span class="field-helptext">{{ form.means.help_text|safe }}</span>
                            {% endif %}
                        </div>



                        {% comment %} Select unit {% endcomment %}
                        <div class="col-3">
                            <label class="field-label{% if form.unit.field.required %} field-required{% endif %}"
                                for="{{ form.unit.name }}">{{ "Επηρεαζόμενος Κόμβος" }}:</label>
                            {% if form.unit.errors %}
                            <span class="field-error">{{ form.unit.errors }}</span>
                            {% endif %}
                            <select name="unit" id="id_unit_new_report" class="selectpicker" data-live-search="true"
                                data-width="100%" data-actions-box="true" data-actions-box="true">
                                {% for choice in form.unit %}
                                {{ choice }}
                                {% endfor %}
                            </select>
                            {% if form.unit.errors %}
                            <span class="field-helptext">{{ form.unit.help_text|safe }}</span>
                            {% endif %}
                        </div>

                    </div>
                


                    {% comment %} Submitter Rank - Name {% endcomment %}
                    <div class="form-group row">
                        <div class="form-inline col-4">
                            <label class="field-label{% if form.submitter_rank.field.required %} field-required{% endif %} "
                                for="{{ form.submitter_rank.name }}">
                                {{ form.submitter_rank.label }}:
                            </label>
                            {% if form.submitter_rank.errors %}
                            <span class="field-error">{{ form.submitter_rank.errors }}</span>
                            {% endif %}
                            {{form.submitter_rank}}
                            {% if form.submitter_rank.errors %}
                            <span class="field-helptext">{{ form.submitter_rank.help_text|safe }}</span>
                            {% endif %}
                        </div>
                        <div class="form-inline col-8 uppercase-input">
                            <label
                                class="field-label{% if form.submitter_name.field.required %} field-required{% endif %}"
                                for="{{ form.submitter_name.name }}">{{ form.submitter_name.label }}:</label>
                            {% if form.submitter_name.errors %}
                            <span class="field-error">{{ form.submitter_name.errors }}</span>
                            {% endif %}
                            {{form.submitter_name}}
                            {% if form.submitter_name.errors %}
                            <span class="field-helptext">{{ form.submitter_name.help_text|safe }}</span>
                            {% endif %}
                        </div>
                    </div>

                    {% comment %} Contact {% endcomment %}
                    <div class="form-group row">
                        {% comment %} Primary Phone {% endcomment %}
                        <div class="form-inline col-6">
                            <label
                                class="field-label{% if form.primary_phone.field.required %} field-required{% endif %}"
                                for="{{ form.primary_phone.name }}">{{ form.primary_phone.label }}:</label>
                            {% if form.primary_phone.errors %}
                            <span class="field-error">{{ form.primary_phone.errors }}</span>
                            {% endif %}
                            {{form.primary_phone}}
                            {% if form.primary_phone.errors %}
                            <span class="field-helptext">{{ form.primary_phone.help_text|safe }}</span>
                            {% endif %}
                        </div>

                        <div class="form-inline col-6">
                            <label
                                class="field-label{% if form.secondary_phone.field.required %} field-required{% endif %}"
                                for="{{ form.secondary_phone.name }}">{{ form.secondary_phone.label }}:</label>
                            {% if form.secondary_phone.errors %}
                            <span class="field-error">{{ form.secondary_phone.errors }}</span>
                            {% endif %}
                            {{form.secondary_phone}}
                            {% if form.secondary_phone.errors %}
                            <span class="field-helptext">{{ form.secondary_phone.help_text|safe }}</span>
                            {% endif %}
                        </div>
                        
                    </div>

                    {% comment %} Attach File {% endcomment %}
                    <div class="form-group row">
                        <div class="col-12">
                            <label
                                class="field-label{% if form.attached_file.field.required %} field-required{% endif %}"
                                for="{{ form.attached_file.name }}">{{ form.attached_file.label }}:</label>
                            {% if form.attached_file.errors %}<span
                                class="field-error">{{ form.attached_file.errors }}</span>{% endif %}
                            {{form.attached_file}}
                            {% if form.attached_file.help_text %}<span
                                class="field-helptext">{{ form.attached_file.help_text|safe }}</span>{% endif %}
                        </div>
                    </div>

                    <button class="btn btn-primary btn-user btn-block" id='submitBtn' form="new_report_form" type='submit'> Υποβολή </button>
                </form>
            </div>
        </div>
    </div>

</div>

{% endblock %}

{% endblock %}